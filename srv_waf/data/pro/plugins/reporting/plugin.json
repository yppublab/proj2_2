{
  "id": "reporting",
  "name": "Reporting",
  "description": "Regular reporting of important data from BunkerWeb (global, attacks, bans, requests, reasons, AS...). Monitoring pro plugin needed to work.",
  "version": "0.27",
  "stream": "no",
  "settings": {
    "USE_REPORTING_SMTP": {
      "context": "global",
      "default": "no",
      "help": "Enable sending the report via email.",
      "id": "reporting-use-smtp",
      "label": "Send email",
      "regex": "^(no|yes)$",
      "type": "check"
    },
    "USE_REPORTING_WEBHOOK": {
      "context": "global",
      "default": "no",
      "help": "Enable sending the report via webhook.",
      "id": "reporting-use-webook",
      "label": "Send webhook",
      "regex": "^(no|yes)$",
      "type": "check"
    },
    "REPORTING_SCHEDULE": {
      "context": "global",
      "default": "weekly",
      "help": "The frequency at which reports are sent.",
      "id": "reporting-schedule",
      "label": "Reporting cycle",
      "regex": "^(daily|weekly|monthly)$",
      "type": "select",
      "select": [
        "daily",
        "weekly",
        "monthly"
      ]
    },
    "REPORTING_WEBHOOK_URLS": {
      "context": "global",
      "default": "",
      "help": "List of webhook URLs to receive the report in Markdown (separated by spaces).",
      "id": "reporting-webhook-urls",
      "label": "webhook URLs",
      "regex": "^( *(https?:\\/\\/[\\-\\w@:%.+~#=]+[\\-\\w\\(\\)!@:%+.~#?&\\/=$]*)(?!.*\\2(?!.)) *)*$",
      "type": "text"
    },
    "REPORTING_SMTP_EMAILS": {
      "context": "global",
      "default": "",
      "help": "List of email addresses to receive the report in HTML format (separated by spaces).",
      "id": "reporting-emails",
      "label": "To emails",
      "regex": "^( *([^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.[^@ \\t\\r\\n]+)(?!.*\\2(?!.)) *)*$",
      "type": "text"
    },
    "REPORTING_SMTP_HOST": {
      "context": "global",
      "default": "",
      "help": "The host server used for SMTP sending.",
      "id": "reporting-smtp-host",
      "label": "SMTP Host",
      "regex": "^.*$",
      "type": "text"
    },
    "REPORTING_SMTP_PORT": {
      "context": "global",
      "default": "465",
      "help": "The port used for SMTP. Please note that there are different standards depending on the type of connection (SSL = 465, TLS = 587).",
      "id": "reporting-smtp-port",
      "label": "SMTP port",
      "regex": "^[0-9]+$",
      "type": "text"
    },
    "REPORTING_SMTP_FROM_EMAIL": {
      "context": "global",
      "default": "",
      "help": "The email address used as the sender. Note that 2FA must be disabled for this email address.",
      "id": "reporting-smtp-from-email",
      "label": "SMTP email",
      "regex": "^([^@ \\t\\r\\n]+@[^@ \\t\\r\\n]+\\.[^@ \\t\\r\\n]+)?$",
      "type": "text"
    },
    "REPORTING_SMTP_FROM_USER": {
      "context": "global",
      "default": "",
      "help": "The user authentication value for sending via the from email address.",
      "id": "reporting-smtp-from-user",
      "label": "SMTP user",
      "regex": "^.*$",
      "type": "password"
    },
    "REPORTING_SMTP_FROM_PASSWORD": {
      "context": "global",
      "default": "",
      "help": "The password authentication value for sending via the from email address.",
      "id": "reporting-smtp-from-password",
      "label": "SMTP password",
      "regex": "^.*$",
      "type": "password"
    },
    "REPORTING_SMTP_SSL": {
      "context": "global",
      "default": "SSL",
      "help": "Determine whether or not to use a secure connection for SMTP.",
      "id": "reporting-smtp-ssl",
      "label": "SMTP Connection type",
      "regex": "^(no|SSL|TLS)$",
      "type": "select",
      "select": [
        "no",
        "SSL",
        "TLS"
      ]
    },
    "REPORTING_SMTP_SUBJECT": {
      "context": "global",
      "default": "BunkerWeb Report",
      "help": "The subject line of the email.",
      "id": "reporting-smtp-subject",
      "label": "Email subject",
      "regex": "^.*$",
      "type": "text"
    }
  }
}
